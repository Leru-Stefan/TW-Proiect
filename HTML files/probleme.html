<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> SQL-Two | Probleme </title>
    <link rel="stylesheet" href="./CSS%20files/problemeStyle.css">
    <script defer src="./JS%20files/problem.js"></script>
    <!-- <script>
        var xhr = new XMLHttpRequest();
        xhr.open('GET', './PHP%20files/afiseaza_probleme.php', true);
        xhr.onload = function () {
            if (xhr.status === 200) {
                var problems = JSON.parse(xhr.responseText);
                // Loop through the problems and display them on the page
                for (var i = 0; i < problems.length; i++) {
                    var problem = problems[i];
                    // Create a new card element for each problem
                    var card = document.createElement('div');
                    card.className = 'card';
                    card.id = 'problema-' + problem.id;                    

                    // Add the problem details to the card
                    var textProblem = document.createElement('div');
                    textProblem.className = 'text-problem';
                    textProblem.innerHTML = '<h4>' + problem.title + '</h4><p>' + problem.description + '</p>';
                    card.appendChild(textProblem);

                    // Add the CTA buttons to the card
                    var ctaButtons = document.createElement('div');
                    ctaButtons.className = 'cta-buttons';

                    var rezolvaBtn = document.createElement('a');
                    rezolvaBtn.id = 'gotoeditor';
                    rezolvaBtn.className = 'btn btn-primary';
                    rezolvaBtn.innerHTML = 'Rezolvă';
                    ctaButtons.appendChild(rezolvaBtn);
                    
                    // Update the href attribute to include the problem ID
                    rezolvaBtn.href = 'index.php?page=editor&id=' + problem.id;
                    ctaButtons.appendChild(rezolvaBtn);

                    var downloadBtn = document.createElement('div');
                    downloadBtn.className = 'download-button';
                    downloadBtn.onclick = function () {
                        afiseazaDropdown(this);
                    };
                    var downloadImg = document.createElement('img');
                    downloadImg.src = './Images/Icons-black/fi-rr-download.svg';
                    downloadImg.alt = 'Download';
                    downloadBtn.appendChild(downloadImg);
                    ctaButtons.appendChild(downloadBtn);

                    var dropdownContent = document.createElement('div');
                    dropdownContent.className = 'dropdown-content';
                    dropdownContent.id = 'dropdown-content-problema-' + problem.id;

                    var downloadXMLLink = document.createElement('a');
                    downloadXMLLink.href = '#';
                    downloadXMLLink.id = 'downloadXML';
                    downloadXMLLink.dataset.id = problem.id;
                    var downloadXMLImg = document.createElement('img');
                    downloadXMLImg.src = './Images/Icons-black/fi-rr-download.svg';
                    downloadXMLImg.alt = 'XML icon';
                    downloadXMLLink.appendChild(downloadXMLImg);
                    downloadXMLLink.appendChild(document.createTextNode('Descarcă XML'));
                    dropdownContent.appendChild(downloadXMLLink);

                    var downloadJSONLink = document.createElement('a');
                    downloadJSONLink.href = '#';
                    downloadJSONLink.id = 'downloadJSON';
                    downloadJSONLink.dataset.id = problem.id;
                    var downloadJSONImg = document.createElement('img');
                    downloadJSONImg.src = './Images/Icons-black/fi-rr-download.svg';
                    downloadJSONImg.alt = 'JSON icon';
                    downloadJSONLink.appendChild(downloadJSONImg);
                    downloadJSONLink.appendChild(document.createTextNode('Descarcă JSON'));
                    dropdownContent.appendChild(downloadJSONLink);

                    ctaButtons.appendChild(dropdownContent);

                    card.appendChild(ctaButtons);

                    // Add the card to the page
                    document.getElementById('cards-probleme').appendChild(card);
                }
            }
        };
        xhr.send();
    </script> -->


</head>

<body>
    <div class="grid-container">
        <!-- <div class="column"> -->
        <div class="side-bar column">
            <img src="./Images/Landing%20images/Logo-nav-bar.svg" alt="Logo navigation bar" class="logo-nav">
            <img src="./Images/Profile%20images/Logo-small.svg" alt="" class="logo-small">
            <nav>
                <ul class="menu-links">
                    <li>
                        <div class="menu-link active" id="gotoprobleme">
                            <img src="./Images/Icons-white/fi-rr-document-signed.svg" alt="" class="icon-menu">
                            <a id="gotoprobleme"> Probleme</a>
                        </div>
                    </li>
                    <li>
                        <div class="menu-link" id="gotoprofil">
                            <img src="./Images/Icons-black/fi-rr-user.svg" alt="" class="icon-menu">
                            <a id="gotoprofil">Profil</a>
                        </div>
                    </li>
                    <li>
                        <div class="menu-link" id="gotosetari">
                            <img src="./Images/Icons-black/fi-rr-settings.svg" alt="" class="icon-menu">
                            <a id="gotosetari">Setari</a>
                        </div>
                    </li>

                    <li>
                        <div class="menu-link" id="gotologout">
                            <img src="./Images/Icons-black/fi-rr-sign-out.svg" alt="" class="icon-menu">
                            <a id="gotologout">Log out</a>
                        </div>
                    </li>
                </ul>

            </nav>
        </div>
        <!-- </div> -->
        <div class="column main-content">
            <div class="search">
                <img src="./Images/Icons-black/fi-rr-search.svg" alt="" class="search-icon">
                <input type="text" placeholder="Cauta...">
            </div>
            <div class="add-problem-container" id="add-problem">
                <div class="inner-content">
                    <img src="./Images/Icons-white/add.svg" alt="addIcon">
                    <p>Adauga o problema</p>
                </div>
            </div>

            <div class="cards-probleme" id="cards-probleme">

            </div>
        </div>
        <div class="column right-side">
            <div class="leaderboard">
                <div class="text-box">
                    <div class="table-heading">
                        <img src="./Images/Icons-black/fi-rr-badge.svg" alt="" class="leader-icon">
                        <h3>Leaderboard</h3>
                    </div>

                    <p>Vrei numele tău pe lista celor care rezolvă cele mai multe probleme? Începe să înveți și să
                        rezolvi!
                    </p>
                </div>
                <div class="list-top5">
                    <div class="top-student winner" id="top-student-1">
                        <div class="user-data">
                            <img src="./Images/Icons-white/fi-rr-user.svg" alt="">
                            <h5>Nume prenume</h5>
                        </div>
                        <h4>118</h4>
                    </div>
                    <div class="top-student " id="top-student-2">
                        <div class="user-data">
                            <img src="./Images/Icons-black/fi-rr-user.svg" alt="">
                            <h5>Nume prenume</h5>
                        </div>
                        <h4>116</h4>
                    </div>
                    <div class="top-student " id="top-student-3">
                        <div class="user-data">
                            <img src="./Images/Icons-black/fi-rr-user.svg" alt="">
                            <h5>Nume prenume</h5>
                        </div>
                        <h4>114</h4>
                    </div>
                    <div class="top-student " id="top-student-4">
                        <div class="user-data">
                            <img src="./Images/Icons-black/fi-rr-user.svg" alt="">
                            <h5>Nume prenume</h5>
                        </div>
                        <h4>113</h4>
                    </div>
                    <div class="top-student " id="top-student-5">
                        <div class="user-data">
                            <img src="./Images/Icons-black/fi-rr-user.svg" alt="">
                            <h5>Nume prenume</h5>
                        </div>
                        <h4>110</h4>
                    </div>
                </div>
            </div>
            <div class="quote-container" id="quote-container"></div>

        </div>
    </div>
    <div class="glass-effect-div" id="glassAddTrue" style="display: none;">
        <div class="popup-add" id="addTrue">
            <img class="image-popup" src="./Images/Profile images/celebration.svg" alt="Congrats">
            <div class="text-wrapper">
                <h2>Felicitari!</h2>
                <p>Ai rezolvat cu succes 20 de probleme. Te rugăm să încarci problema ta pe platforma noastră în format
                    JSON.</p>
            </div>
            <a class="btn btn-primary" id="importJsonButton">Import JSON</a>
            <input type="file" id="jsonFileInput" accept=".json" style="display: none;">
        </div>
    </div>

    <div class="glass-effect-div" id="glassAddFalse" style="display: none;">

        <div class="popup-add" id="addFalse">
            <img class="image-popup" src="./Images/Profile images/sad.svg" alt="Congrats">
            <div class="text-wrapper">
                <h2>Ne pare rau!</h2>
                <p>Încă nu ai rezolvat 20 de probleme pentru a putea adăuga propria ta problemă. Te rugăm să continui să
                    lucrezi la probleme.</p>
            </div>
        </div>
    </div>
</body>

</html>